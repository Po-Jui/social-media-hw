{"remainingRequest":"C:\\Users\\itea5\\social-media-hw\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\itea5\\social-media-hw\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\itea5\\social-media-hw\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\itea5\\social-media-hw\\src\\components\\addPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\itea5\\social-media-hw\\src\\components\\addPost.vue","mtime":1688899963984},{"path":"C:\\Users\\itea5\\social-media-hw\\babel.config.js","mtime":1688746802935},{"path":"C:\\Users\\itea5\\social-media-hw\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itea5\\social-media-hw\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\itea5\\social-media-hw\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itea5\\social-media-hw\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRiIH0gZnJvbSAiQC9jb25maWcvZmlyZWJhc2VDb25maWcuanMiOwppbXBvcnQgeyBmaXJlYmFzZUF1dGggfSBmcm9tICJAL2NvbmZpZy9maXJlYmFzZUNvbmZpZy5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmxvZzogewogICAgICAgIHRpdGxlOiAiIiwKICAgICAgICBjb250ZW50OiAiIiwKICAgICAgICBkaXNwbGF5TmFtZTogIiIKICAgICAgfSwKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgdXNlcjogbnVsbCwKICAgICAgaXNsb2dpbjogZmFsc2UKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgZmlyZWJhc2VBdXRoLm9uQXV0aFN0YXRlQ2hhbmdlZCh1c2VyID0+IHsKICAgICAgaWYgKHVzZXIgIT0gbnVsbCkgewogICAgICAgIHRoaXMuZGlzcGxheU5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lOwogICAgICAgIHRoaXMuaXNsb2dpbiA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51c2VyID0gbnVsbDsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgICB9LCAzMDAwKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBwb3N0KCkgewogICAgICBpZiAodGhpcy5ibG9nLnRpdGxlICYmIHRoaXMuYmxvZy5jb250ZW50KSB7CiAgICAgICAgYXdhaXQgZGIuY29sbGVjdGlvbigiYmxvZ3MiKS5hZGQoewogICAgICAgICAgdGl0bGU6IHRoaXMuYmxvZy50aXRsZSwKICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuYmxvZy5jb250ZW50LAogICAgICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZGlzcGxheU5hbWUsCiAgICAgICAgICBjcmVhdGVUaW1lOiB0aGlzLiRtb21lbnQodGhpcy5jcmVhdGVUaW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKQogICAgICAgIH0pOwogICAgICAgIGFsZXJ0KCfmga3llpzmgqjmlrDlop7kuobkuIDnr4fosrzmlochISEnKTsKICAgICAgICB0aGlzLmJsb2cudGl0bGUgPSAiIjsKICAgICAgICB0aGlzLmJsb2cuY29udGVudCA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCfoq4vloavlhaXmqJnpoYzlj4rlhaflrrkhISEnKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["db","firebaseAuth","data","blog","title","content","displayName","submitted","user","islogin","created","onAuthStateChanged","setTimeout","$router","push","methods","post","collection","add","createTime","$moment","format","alert"],"sources":["src/components/addPost.vue"],"sourcesContent":["<template>\r\n  <div id=\"add-blog\">\r\n    <form v-if=\"islogin\">\r\n        <h2>新增一篇貼文</h2>\r\n      <form v-if=\"!submitted\">\r\n        <label>標題:</label>\r\n        <input type=\"text\" v-model.lazy=\"blog.title\" required />\r\n        <label>內容:</label>\r\n        <textarea v-model.lazy.trim=\"blog.content\"></textarea>\r\n        <hr />\r\n        <button @click.prevent=\"post\">新增貼文</button>\r\n      </form>\r\n      <div id=\"preview\">\r\n        <h3>預覽</h3>\r\n        <p>標題: {{ blog.title }}</p>\r\n        <p>內容:</p>\r\n        <p style=\"white-space: pre\">{{ blog.content }}</p>\r\n        <ul>\r\n          <li v-for=\"category in blog.hashTags\" :key=\"category.id\">\r\n            {{ category }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </form>\r\n    <h3 v-if=\"!islogin\">\r\n      請先登入再發文!!!三秒後回到登入頁面\r\n    </h3>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { db } from \"@/config/firebaseConfig.js\";\r\nimport { firebaseAuth } from \"@/config/firebaseConfig.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      blog: {\r\n        title: \"\",\r\n        content: \"\",\r\n        displayName : \"\"\r\n      },\r\n      submitted: false,\r\n      user: null,\r\n      islogin: false\r\n    };\r\n  },\r\n  created() {\r\n    firebaseAuth.onAuthStateChanged((user) => {\r\n      \r\n      if (user != null) {\r\n        this.displayName = user.displayName;\r\n        this.islogin = true;\r\n      } else {\r\n        this.user = null;\r\n        setTimeout(() => {\r\n          this.$router.push('/login')\r\n        }, 3000);  \r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    async post() {\r\n      if (this.blog.title && this.blog.content) {\r\n        await db.collection(\"blogs\").add({\r\n          title: this.blog.title,\r\n          content: this.blog.content,\r\n          displayName: this.displayName,\r\n          createTime: this.$moment(this.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        });\r\n        alert('恭喜您新增了一篇貼文!!!');\r\n        this.blog.title = \"\";\r\n        this.blog.content = \"\";\r\n      } else {\r\n        alert('請填入標題及內容!!!');\r\n      }\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#add-blog * {\r\n  box-sizing: border-box;\r\n}\r\n#add-blog {\r\n  margin: 20px auto;\r\n  max-width: 500px;\r\n}\r\nlabel {\r\n  display: block;\r\n  margin: 20px 0 10px;\r\n}\r\ninput[type=\"text\"],\r\ntextarea {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 8px;\r\n}\r\n#preview {\r\n  padding: 10px 20px;\r\n  border: 1px dotted #ccc;\r\n  margin: 30px 0;\r\n}\r\nh3 {\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,SAAAA,EAAA;AACA,SAAAC,YAAA;AAEA;EACAC,KAAA;IACA;MACAC,IAAA;QACAC,KAAA;QACAC,OAAA;QACAC,WAAA;MACA;MACAC,SAAA;MACAC,IAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACAT,YAAA,CAAAU,kBAAA,CAAAH,IAAA;MAEA,IAAAA,IAAA;QACA,KAAAF,WAAA,GAAAE,IAAA,CAAAF,WAAA;QACA,KAAAG,OAAA;MACA;QACA,KAAAD,IAAA;QACAI,UAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,KAAA;MACA,SAAAb,IAAA,CAAAC,KAAA,SAAAD,IAAA,CAAAE,OAAA;QACA,MAAAL,EAAA,CAAAiB,UAAA,UAAAC,GAAA;UACAd,KAAA,OAAAD,IAAA,CAAAC,KAAA;UACAC,OAAA,OAAAF,IAAA,CAAAE,OAAA;UACAC,WAAA,OAAAA,WAAA;UACAa,UAAA,OAAAC,OAAA,MAAAD,UAAA,EAAAE,MAAA;QACA;QACAC,KAAA;QACA,KAAAnB,IAAA,CAAAC,KAAA;QACA,KAAAD,IAAA,CAAAE,OAAA;MACA;QACAiB,KAAA;MACA;IACA;EACA;AACA"}]}